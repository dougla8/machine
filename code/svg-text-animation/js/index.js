(function() {
  $(document).ready(function() {
    var lg, pathStartPoint, rotateWe, step, steps, stepsflag, transition, transitionCircle, translateAlong, translateAlongCircle;
    step = 0;
    steps = [];
    stepsflag = [];
    lg = 0;
    pathStartPoint = function(path) {
      var d, dsplitted;
      d = path.attr('d');
      dsplitted = d.split(' ');
      return dsplitted[1].split(',');
    };
    transitionCircle = function(markers, path) {
      var i, j, len, marker, results;
      if (path) {
        results = [];
        for (i = j = 0, len = markers.length; j < len; i = ++j) {
          marker = markers[i];
          results.push(marker.transition().ease('linear').duration(10500).attrTween('style', translateAlongCircle(path.node(), marker, i)).each('end', function() {
            return transitionCircle(markers, path);
          }));
        }
        return results;
      }
    };
    translateAlongCircle = function(path, marker, idx) {
      var cm, l, m, ml, r, rDiff;
      l = path.getTotalLength();
      ml = marker[0][0].getTotalLength();
      m = marker[0][0].getPointAtLength(0 * ml);
      cm = marker[0][0].getPointAtLength(1 * ml);
      r = 0;
      rDiff = Math.random() * (3 - 10) + 3;
      return function(d, i, a) {
        return function(t) {
          var p, pmx, pmy;
          r += rDiff;
          if (steps[idx] > t) {
            p = path.getPointAtLength((steps[idx] - t) * l);
          } else {
            p = path.getPointAtLength((1 + (steps[idx] - t)) * l);
          }
          pmx = p.x - m.x;
          pmy = p.y - m.y;
          return `transform-origin:50% 50%;transform:translate(${pmx}px,${pmy}px) rotate(${r}deg); transition: none; -webkit-transform:translate(${pmx}px,${pmy}px) rotate(${r}deg);-webkit-transform-origin:50% 50%;`;
        };
      };
    };
    transition = function(markers, path) {
      var i, j, len, marker, translate;
      step = 0;
      steps = [];
      if (path) {
        for (i = j = 0, len = markers.length; j < len; i = ++j) {
          marker = markers[i];
          translate = translateAlong(path.node(), marker, markers.length);
          marker.attr('style', '' + translate);
        }
        setTimeout(function() {
          return transitionCircle(markers, path);
        }, 500);
      }
    };
    translateAlong = function(path, marker, count) {
      var cm, l, m, ml, p, pmx, pmy;
      l = path.getTotalLength();
      lg = l;
      step = step + 1 / count;
      steps.push(step);
      stepsflag.push(true);
      p = path.getPointAtLength(step * l);
      ml = marker[0][0].getTotalLength();
      m = marker[0][0].getPointAtLength(0 * ml);
      cm = marker[0][0].getPointAtLength(1 * ml);
      pmx = p.x - m.x;
      pmy = p.y - m.y;
      return `transform:translate(${pmx}px,' + pmy + 'px);-webkit-transform:translate(${pmx}px, ${pmy}px);`;
    };
    rotateWe = function(pathName, elemName) {
      var markers, path, startPoint;
      markers = [];
      path = d3.select('#circle');
      startPoint = pathStartPoint(path);
      $('.fill').each(function(i, elem) {
        return markers.push(d3.select(elem));
      });
      console.log('anim', markers);
      return transition(markers, path);
    };
    return $('.wrapper-hover').hover((function() {
      $(this).addClass('active');
      return rotateWe('circle', '.fill');
    }), function() {
      $(this).removeClass('active');
      return d3.selectAll('.fill').transition().duration(0).each('end', function() {
        return d3.select(this).attr('style', '');
      });
    });
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiPGFub255bW91cz4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFBQSxDQUFBLENBQUUsUUFBRixDQUFXLENBQUMsS0FBWixDQUFrQixRQUFBLENBQUEsQ0FBQTtBQUNoQixRQUFBLEVBQUEsRUFBQSxjQUFBLEVBQUEsUUFBQSxFQUFBLElBQUEsRUFBQSxLQUFBLEVBQUEsU0FBQSxFQUFBLFVBQUEsRUFBQSxnQkFBQSxFQUFBLGNBQUEsRUFBQTtJQUFBLElBQUEsR0FBTztJQUNQLEtBQUEsR0FBUTtJQUNSLFNBQUEsR0FBWTtJQUNaLEVBQUEsR0FBSztJQUVMLGNBQUEsR0FBaUIsUUFBQSxDQUFDLElBQUQsQ0FBQTtBQUNmLFVBQUEsQ0FBQSxFQUFBO01BQUEsQ0FBQSxHQUFJLElBQUksQ0FBQyxJQUFMLENBQVUsR0FBVjtNQUNKLFNBQUEsR0FBWSxDQUFDLENBQUMsS0FBRixDQUFRLEdBQVI7YUFDWixTQUFVLENBQUEsQ0FBQSxDQUFFLENBQUMsS0FBYixDQUFtQixHQUFuQjtJQUhlO0lBS2pCLGdCQUFBLEdBQW9CLFFBQUEsQ0FBQyxPQUFELEVBQVUsSUFBVixDQUFBO0FBQ2xCLFVBQUEsQ0FBQSxFQUFBLENBQUEsRUFBQSxHQUFBLEVBQUEsTUFBQSxFQUFBO01BQUEsSUFBRyxJQUFIO0FBQ0U7UUFBQSxLQUFBLGlEQUFBOzt1QkFDRSxNQUFNLENBQUMsVUFBUCxDQUFBLENBQW1CLENBQUMsSUFBcEIsQ0FBeUIsUUFBekIsQ0FBa0MsQ0FBQyxRQUFuQyxDQUE0QyxLQUE1QyxDQUFrRCxDQUFDLFNBQW5ELENBQTZELE9BQTdELEVBQXNFLG9CQUFBLENBQXFCLElBQUksQ0FBQyxJQUFMLENBQUEsQ0FBckIsRUFBa0MsTUFBbEMsRUFBMEMsQ0FBMUMsQ0FBdEUsQ0FBbUgsQ0FBQyxJQUFwSCxDQUF5SCxLQUF6SCxFQUFnSSxRQUFBLENBQUEsQ0FBQTttQkFDNUgsZ0JBQUEsQ0FBaUIsT0FBakIsRUFB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QUFXLE9BQVgsRUFBb0IsSUFBcEI7SUFSUztXQVVYLENBQUEsQ0FBRSxnQkFBRixDQUFtQixDQUFDLEtBQXBCLENBQTBCLENBQUMsUUFBQSxDQUFBLENBQUE7TUFDekIsQ0FBQSxDQUFFLElBQUYsQ0FBTyxDQUFDLFFBQVIsQ0FBaUIsUUFBakI7YUFDQSxRQUFBLENBQVMsUUFBVCxFQUFtQixPQUFuQjtJQUZ5QixDQUFELENBQTFCLEVBR0csUUFBQSxDQUFBLENBQUE7TUFDRCxDQUFBLENBQUUsSUFBRixDQUFPLENBQUMsV0FBUixDQUFvQixRQUFwQjthQUNBLEVBQUUsQ0FBQyxTQUFILENBQWEsT0FBYixDQUFxQixDQUFDLFVBQXRCLENBQUEsQ0FBa0MsQ0FBQyxRQUFuQyxDQUE0QyxDQUE1QyxDQUE4QyxDQUFDLElBQS9DLENBQW9ELEtBQXBELEVBQTJELFFBQUEsQ0FBQSxDQUFBO2VBQ3pELEVBQUUsQ0FBQyxNQUFILENBQVUsSUFBVixDQUFlLENBQUMsSUFBaEIsQ0FBcUIsT0FBckIsRUFBOEIsRUFBOUI7TUFEeUQsQ0FBM0Q7SUFGQyxDQUhIO0VBM0VnQixDQUFsQjtBQUFBIiwic291cmNlc0NvbnRlbnQiOlsiJChkb2N1bWVudCkucmVhZHkgLT5cbiAgc3RlcCA9IDBcbiAgc3RlcHMgPSBbXVxuICBzdGVwc2ZsYWcgPSBbXVxuICBsZyA9IDBcblxuICBwYXRoU3RhcnRQb2ludCA9IChwYXRoKSAtPlxuICAgIGQgPSBwYXRoLmF0dHIoJ2QnKVxuICAgIGRzcGxpdHRlZCA9IGQuc3BsaXQoJyAnKVxuICAgIGRzcGxpdHRlZFsxXS5zcGxpdCAnLCdcbiAgXG4gIHRyYW5zaXRpb25DaXJjbGUgPSAgKG1hcmtlcnMsIHBhdGgpIC0+XG4gICAgaWYgcGF0aFxuICAgICAgZm9yIG1hcmtlciwgaSBpbiBtYXJrZXJzXG4gICAgICAgIG1hcmtlci50cmFuc2l0aW9uKCkuZWFzZSgnbGluZWFyJykuZHVyYXRpb24oMTA1MDApLmF0dHJUd2Vlbignc3R5bGUnLCB0cmFuc2xhdGVBbG9uZ0NpcmNsZShwYXRoLm5vZGUoKSwgbWFya2VyLCBpKSkuZWFjaCAnZW5kJywgLT5cbiAgICAgICAgICAgIHRyYW5zaXRpb25DaXJjbGUobWFya2VycywgcGF0aClcblxuXG4gIHRyYW5zbGF0ZUFsb25nQ2lyY2xlID0gKHBhdGgsIG1hcmtlciwgaWR4KSAtPlxuICAgIGwgPSBwYXRoLmdldFRvdGFsTGVuZ3RoKClcbiAgICBtbCA9IG1hcmtlclswXVswXS5nZXRUb3RhbExlbmd0aCgpXG4gICAgbSA9IG1hcmtlclswXVswXS5nZXRQb2ludEF0TGVuZ3RoKDAgKiBtbClcbiAgICBjbSA9IG1hcmtlclswXVswXS5nZXRQb2ludEF0TGVuZ3RoKDEgKiBtbClcbiAgICByPTBcbiAgICByRGlmZiA9IE1hdGgucmFuZG9tKCkgKiAoMyAtIDEwKSArIDNcbiAgICAoZCwgaSwgYSkgLT5cbiAgICAgICh0KSAtPlxuICAgICAgICByKz1yRGlmZlxuICAgICAgICBpZiAoIHN0ZXBzW2lkeF0gPiB0KVxuICAgICAgICAgIHAgPSBwYXRoLmdldFBvaW50QXRMZW5ndGgoKHN0ZXBzW2lkeF0gLSB0KSAqIGwpXG4gICAgICAgIGVsc2VcbiAgICAgICAgICBwID0gcGF0aC5nZXRQb2ludEF0TGVuZ3RoKCAoMSArIChzdGVwc1tpZHhdIC0gdCkgKSAqIGwpXG4gICAgICAgIHBteCA9IHAueC1tLnhcbiAgICAgICAgcG15ID0gcC55LW0ueVxuXG4gICAgICAgIFwidHJhbnNmb3JtLW9yaWdpbjo1MCUgNTAlO3RyYW5zZm9ybTp0cmFuc2xhdGUoI3twbXh9cHgsI3twbXl9cHgpIHJvdGF0ZSgje3J9ZGVnKTsgdHJhbnNpdGlvbjogbm9uZTsgLXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlKCN7cG14fXB4LCN7cG15fXB4KSByb3RhdGUoI3tyfWRlZyk7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOjUwJSA1MCU7XCJcblxuICB0cmFuc2l0aW9uID0gKG1hcmtlcnMsIHBhdGgpLT5cbiAgICBzdGVwID0gMFxuICAgIHN0ZXBzID0gW11cbiAgICBpZiBwYXRoXG4gICAgICBmb3IgbWFya2VyLCBpIGluIG1hcmtlcnNcbiAgICAgICAgdHJhbnNsYXRlID0gdHJhbnNsYXRlQWxvbmcocGF0aC5ub2RlKCksIG1hcmtlciwgbWFya2Vycy5sZW5ndGgpXG4gICAgICAgIG1hcmtlci5hdHRyKCdzdHlsZScsICcnKyB0cmFuc2xhdGUpXG4gICAgICBzZXRUaW1lb3V0IC0+XG4gICAgICAgIHRyYW5zaXRpb25DaXJjbGUobWFya2VycywgcGF0aClcbiAgICAgICwgNTAwXG4gICAgcmV0dXJuXG5cblxuICB0cmFuc2xhdGVBbG9uZyA9IChwYXRoLCBtYXJrZXIsIGNvdW50KSAtPlxuICAgIGwgPSBwYXRoLmdldFRvdGFsTGVuZ3RoKClcbiAgICBsZyA9IGxcbiAgICBzdGVwID0gc3RlcCArIDEvY291bnRcbiAgICBzdGVwcy5wdXNoKHN0ZXApXG4gICAgc3RlcHNmbGFnLnB1c2godHJ1ZSlcbiAgICBwID0gcGF0aC5nZXRQb2ludEF0TGVuZ3RoKHN0ZXAgKiBsKVxuICAgIG1sID0gbWFya2VyWzBdWzBdLmdldFRvdGFsTGVuZ3RoKClcbiAgICBtID0gbWFya2VyWzBdWzBdLmdldFBvaW50QXRMZW5ndGgoMCAqIG1sKVxuICAgIGNtID0gbWFya2VyWzBdWzBdLmdldFBvaW50QXRMZW5ndGgoMSAqIG1sKVxuICAgIHBteCA9IHAueC1tLnhcbiAgICBwbXkgPSBwLnktbS55XG4gICAgXCJ0cmFuc2Zvcm06dHJhbnNsYXRlKCN7IHBteCB9cHgsJyArIHBteSArICdweCk7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlKCN7cG14fXB4LCAje3BteX1weCk7XCJcblxuXG4gIHJvdGF0ZVdlID0gKHBhdGhOYW1lLCBlbGVtTmFtZSkgLT5cbiAgICBtYXJrZXJzID0gW11cbiAgICBwYXRoID0gZDMuc2VsZWN0KCcjY2lyY2xlJylcbiAgICBzdGFydFBvaW50ID0gcGF0aFN0YXJ0UG9pbnQocGF0aClcbiAgICBcbiAgICAkKCcuZmlsbCcpLmVhY2ggKGksIGVsZW0pIC0+XG4gICAgICBtYXJrZXJzLnB1c2ggZDMuc2VsZWN0KGVsZW0pXG4gICAgY29uc29sZS5sb2coJ2FuaW0nLG1hcmtlcnMpXG4gICAgdHJhbnNpdGlvbihtYXJrZXJzLCBwYXRoKVxuXG4gICQoJy53cmFwcGVyLWhvdmVyJykuaG92ZXIgKC0+XG4gICAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgcm90YXRlV2UoJ2NpcmNsZScsICcuZmlsbCcpXG4gICksIC0+XG4gICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgZDMuc2VsZWN0QWxsKCcuZmlsbCcpLnRyYW5zaXRpb24oKS5kdXJhdGlvbigwKS5lYWNoICdlbmQnLCAtPlxuICAgICAgZDMuc2VsZWN0KHRoaXMpLmF0dHIoJ3N0eWxlJywgJycpXG4iXX0=
//# sourceURL=coffeescript